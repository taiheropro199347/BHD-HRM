{"version":3,"sources":["node_modules/browser-pack/_prelude.js","main.ts","src/directive/index.ts","src/directive/ripple.ts","src/events/default.ts","src/events/extra.ts","src/events/index.ts","src/interop.ts","src/mixins/overlayable/index.ts","src/modules/Caret.ts","src/modules/dragHelper.ts","src/utils/index.ts"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","interop","overlayable","window","BlazorComponent","Object","assign","ripple_1","default","MutationObserver","mutationsList","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","target","mutation","value","type","_bind","attributes","addEventListener","rippleShow","rippleHide","nodeName","rippleEls","document","querySelectorAll","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","el","err","return","attributeName","removeEventListener","observe","subtree","childList","attributeFilter","transform","style","webkitTransform","opacity","toString","ripples","container","createElement","animation","_calculate","appendChild","className","offset","getBoundingClientRect","localX","clientX","left","localY","clientY","top","radius","Math","sqrt","pow","clientWidth","clientHeight","scale","x","y","centerX","centerY","size","computed","width","height","getComputedStyle","position","dataset","previousPosition","classList","add","activated","String","performance","now","setTimeout","remove","getElementsByClassName","isHiding","diff","Number","delay","max","parentNode","removeChild","currentTarget","parseTouch","touchList","touches","touch","push","identifier","screenX","screenY","pageX","pageY","parseMouseEvent","event","detail","offsetX","offsetY","button","buttons","ctrlKey","shiftKey","altKey","metaKey","parseTouchEvent","targetTouches","changedTouches","index_1","default_1","sharedCreateEventArgs","args","elementReferenceId","getAttributeNames","find","startsWith","getElementSelector","getAttribute","registerExtraMouseEvent","eventType","eventName","Blazor","registerCustomEventType","browserEventName","createEventArgs","registerExtraTouchEvent","extra_1","registerExtraEvents","index_2","Caret_1","index_3","getZIndex","nodeType","Node","ELEMENT_NODE","index","getPropertyValue","onTransition","isActive","element","propertyName","getDom","documentElement","indexOf","array","split","querySelector","body","getDomInfo","cloned","result","dom","cloneNode","parentElement","getDomInfoObj","offsetTop","offsetLeft","scrollHeight","scrollWidth","scrollLeft","scrollTop","clientTop","clientLeft","res","viewportElement","box","offsetWidth","offsetHeight","relativeTop","relativeBottom","bottom","relativeLeft","relativeRight","right","absoluteLeft","absoluteTop","getElementPos","round","fileClickEvent","fileId","this","nodeValue","getElementById","click","getObjectURL","file","url","URL","createObjectURL","webkitURL","attach","arguments","_a","_b","updateCanvas","hue","saturationGradient","ctx","canvas","getContext","createLinearGradient","addColorStop","fillStyle","fillRect","valueGradient","addStepperEventListener","removeStepperEventListener","initStepperWrapper","contains","display","requestAnimationFrame","enter","leave","addFileClickEventListener","btn","removeFileClickEventListener","clearFile","setAttribute","getFileInfo","files","fileInfo","objectUrl","fileName","name","objectURL","uploadFile","data","headers","instance","percentMethod","successMethod","errorMethod","formData","FormData","append","key","req","XMLHttpRequest","onreadystatechange","readyState","status","invokeMethodAsync","responseText","upload","onprogress","percent","floor","loaded","onerror","open","header","setRequestHeader","send","triggerEvent","stopPropagation","evt","createEvent","initEvent","dispatchEvent","setProperty","getFirstChildBoundingClientRect","selector","firstElementChild","htmlElementEventListennerConfigs","addHtmlElementEventListener","invoker","options","extras","listener","preventDefault","relatedTarget","k","list","obj","attr","forEach","item","timeout","throttled","htmlElement","config","debounce","clearTimeout","throttle","removeHtmlElementEventListener","configs","outsideClickListenerCaches","slideTo","targetPageY","timer","setInterval","currentY","speed","ceil","clearInterval","scrollTo","getActiveElement","activeElement","getWindowAndDocumentProps","windowProps","documentProps","prop","css","hasOwnProperty","addCls","clsName","_element$classList","apply","_toConsumableArray","removeCls","_element$classList2","addOutsideClickEventListener","noInvokeSelectors","invokeSelectors","contentElement","filter","s","pointerSelector","some","join","removeOutsideClickEventListener","addMouseleaveEventListener","e1","e2","dom1","equalsOrContains","dom2","matchMedia","query","matches","copy","text","navigator","clipboard","writeText","then","console","log","error","fallbackCopyTextToClipboard","textArea","focus","select","msg","execCommand","noScroll","HTMLElement","preventScroll","HTMLInputElement","HTMLTextAreaElement","hasFocus","blur","backTop","scrollIntoView","behavior","block","inline","scrollToActiveElement","scrollToPosition","getFirstChildDomInfo","addClsToFirstChild","removeClsFromFirstChild","getAbsoluteTop","offsetParent","getAbsoluteLeft","addElementToBody","delElementFromBody","addElementTo","addElement","elementSelector","parent","delElementFrom","delElement","focusDialog","count","ele","hasAttribute","getWindow","innerWidth","innerHeight","pageXOffset","pageYOffset","isTop","scrollY","isBottom","elementScrollIntoView","oldBodyCacheStack","getMenuOrDialogMaxZIndex","exclude","zis","activeElements","concat","includes","getTextAreaInfo","currentStyle","parseFloat","defaultView","is","NaN","disableBodyScroll","overflow","oldBodyCache","enableBodyScroll","pop","_c","destroyAllDialog","createIconFromfontCN","scriptUrl","script","getScroll","getInnerText","innerText","getMaxZIndex","all","reduce","zIndex","getStyle","styleProp","funcDict","disposeResizeTextArea","id","objReferenceDict","resizeTextArea","minRows","maxRows","dims","rowHeight","oldHeight","rows","trunc","newHeight","overflowY","registerResizeTextArea","objReference","mentionsOnWindowClick","mentionsObj","disposeObj","objReferenceName","getCursorXY","dragHelper_1","getMenuableDimensions","hasActivator","activatorSelector","attached","attachSelector","dimensions","activator","content","relativeYOffset","offsetParentLeft","measure","cb","offsetRect","getRoundedBoundedClientRect","rect","parseInt","marginLeft","marginTop","otpInputKeyupEvent","otpIdx","elementList","callback","eventKey","JSON","stringify","otpInputFocus","focusIndex","otpInputFocusEvent","otpInputOnInputEvent","defineProperty","enumerable","get","disableDraggable","enableDraggable","resetModalPosition","bindTableHeaderAndBodyScroll","bodyRef","headerRef","bindScrollLeftToHeader","unbindTableHeaderAndBodyScroll","addPreventKeys","inputElement","keys","map","toUpperCase","removePreventKeys","addPreventEnterOnOverlayVisible","overlayElement","preventKeyOnCondition","check","removePreventEnterOnOverlayVisible","insertAdjacentHTML","head","getImageDimensions","src","Promise","resolve","reject","img","Image","onload","hasError","enablePreventDefaultForEvent","condition","Array","isArray","resizeObserver","ResizeObserver","entries","dimension","contentRect","intersectionObserver","invokers","IntersectionObserver","isIntersecting","getBoundingClientRects","elements","getSize","selectors","sizeProp","charAt","slice","getProp","updateWindowTransition","itemEl","getScrollHeightWithoutHeight","customEventName","pastedData","clipboardData","getData","registerTextFieldOnMouseDown","mouseEventArgs","Detail","ScreenX","ScreenY","ClientX","ClientY","OffsetX","OffsetY","PageX","PageY","Button","Buttons","CtrlKey","ShiftKey","AltKey","MetaKey","Type","isMobile","test","userAgent","substr","containsActiveElement","copyChild","removeAttribute","copyText","invokeMultipleMethod","multipleResult","windowAndDocument","registerOTPInputOnInputEvent","_loop","getListIndexWhereAttributeExists","attribute","tiles","scrollToTile","contentSelector","tilesSelector","keyCode","contentHeight","tile","keyCodes","freeze","tab","delete","esc","space","up","down","end","home","del","backspace","insert","pageup","pagedown","shift","wheelListenerCaches","shouldScroll","dir","deltaX","delta","deltaY","alreadyAtStart","alreadyAtEnd","hasScrollbar","tagName","overflowX","addWheelEventListener","overlaySelector","dialog","isContentEditable","path","composedPath","selected","getSelection","anchorNode","isInside","checkPath","passive","removeWheelEventListener","InputCaret","inputor","_classCallCheck","getPos","domInputor","selectionStart","getPosition","pos","format","replace","inputorValue","start_range","end_range","html","Mirror","create","getOffset","$mirror","AntDesign","mirrorCss","innerHTML","_this","css_attr","flag","oRect","elem","fn","threshold","start","Date","_len","_key","curTime","eventMap","Map","defaultOptions","inViewport","Dragger","_container","triggler","_triggler","_options","onMousedown","onMouseup","onMousemove","onResize","_style","_isFirst","dragInViewport","_this2","_state","state","_getContainerPos","isInDrag","mX","mY","getContainerPos","domMaxY","domMaxX","domStartX","domStartY","_getContainerPos2","newDomX","nowX","nowY","disX","disY","newDomY","margin","paddingBottom","bind","dragger","set","bindDrag","unbindDrag","resetContainerStyle","getBlazorId","_bl_","substring","Element","toLowerCase","unshift","sib","nth","previousElementSibling"],"mappings":"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","file":"blazor-component.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","﻿import * as interop from \"./src/interop\";\r\nimport * as overlayable from \"./src/mixins/overlayable/index\";\r\n\r\ndeclare global {\r\n    interface Window {\r\n        BlazorComponent: any;\r\n    }\r\n}\r\n\r\nwindow.BlazorComponent = {\r\n    interop: { ...interop, ...overlayable }\r\n};\r\n","import { rippleShow, rippleHide } from \"./ripple\";\r\n\r\nexport default function registerDirective() {\r\n    var observer = new MutationObserver(function (mutationsList) {\r\n        for (let mutation of mutationsList) {\r\n            if (mutation.type === 'childList') {\r\n                var target: any = mutation.target;\r\n                //ripple\r\n                if (!target._bind && target.attributes['ripple']) {\r\n\r\n                    target.addEventListener('mousedown', rippleShow)\r\n                    target.addEventListener('mouseup', rippleHide)\r\n                    target.addEventListener('mouseleave', rippleHide)\r\n\r\n                    target._bind = true;\r\n                }\r\n                else if (target.nodeName == 'BODY') {\r\n                    var rippleEls = document.querySelectorAll('[ripple]');\r\n                    for (let rippleEl of rippleEls) {\r\n                        var el: any = rippleEl;\r\n                        if (!el._bind) {\r\n                            el.addEventListener('mousedown', rippleShow)\r\n                            el.addEventListener('mouseup', rippleHide)\r\n                            el.addEventListener('mouseleave', rippleHide)\r\n\r\n                            el._bind = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else if (mutation.type === 'attributes') {\r\n                //ripple\r\n                if (mutation.attributeName == 'ripple') {\r\n                    var target: any = mutation.target;\r\n                    if (target.attributes['ripple']) {\r\n                        target.addEventListener('mousedown', rippleShow)\r\n                        target.addEventListener('mouseup', rippleHide)\r\n                        target.addEventListener('mouseleave', rippleHide)\r\n                    }\r\n                    else {\r\n                        target.removeEventListener('mousedown', rippleShow)\r\n                        target.removeEventListener('mouseup', rippleHide)\r\n                        target.removeEventListener('mouseleave', rippleHide)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    observer.observe(document, { attributes: true, subtree: true, childList: true, attributeFilter: ['ripple'] });\r\n}","const calculate = (\r\n    e,\r\n    el\r\n) => {\r\n    let localX = 0\r\n    let localY = 0\r\n\r\n    const offset = el.getBoundingClientRect()\r\n    const target = e\r\n\r\n    localX = target.clientX - offset.left\r\n    localY = target.clientY - offset.top\r\n\r\n    let radius = 0\r\n    let scale = 0.3\r\n\r\n    radius = Math.sqrt(el.clientWidth ** 2 + el.clientHeight ** 2) / 2\r\n\r\n    const centerX = `${(el.clientWidth - (radius * 2)) / 2}px`\r\n    const centerY = `${(el.clientHeight - (radius * 2)) / 2}px`\r\n\r\n    const x = `${localX - radius}px`\r\n    const y = `${localY - radius}px`\r\n\r\n    return { radius, scale, x, y, centerX, centerY }\r\n}\r\n\r\nfunction transform(el, value) {\r\n    el.style.transform = value\r\n    el.style.webkitTransform = value\r\n}\r\n\r\nfunction opacity(el, value) {\r\n    el.style.opacity = value.toString()\r\n}\r\n\r\nconst ripples = {\r\n    /* eslint-disable max-statements */\r\n    show(\r\n        e,\r\n        el\r\n    ) {\r\n\r\n        const container = document.createElement('span')\r\n        const animation = document.createElement('span')\r\n\r\n        container.appendChild(animation)\r\n        container.className = 'm-ripple__container'\r\n\r\n        const { radius, scale, x, y, centerX, centerY } = calculate(e, el)\r\n\r\n        const size = `${radius * 2}px`\r\n        animation.className = 'm-ripple__animation'\r\n        animation.style.width = size\r\n        animation.style.height = size\r\n\r\n        el.appendChild(container)\r\n\r\n        const computed = window.getComputedStyle(el)\r\n        if (computed && computed.position === 'static') {\r\n            el.style.position = 'relative'\r\n            el.dataset.previousPosition = 'static'\r\n        }\r\n\r\n        animation.classList.add('m-ripple__animation--enter')\r\n        animation.classList.add('m-ripple__animation--visible')\r\n        transform(animation, `translate(${x}, ${y}) scale3d(${scale},${scale},${scale})`)\r\n        opacity(animation, 0)\r\n        animation.dataset.activated = String(performance.now())\r\n\r\n        setTimeout(() => {\r\n            animation.classList.remove('m-ripple__animation--enter')\r\n            animation.classList.add('m-ripple__animation--in')\r\n            transform(animation, `translate(${centerX}, ${centerY}) scale3d(1,1,1)`)\r\n            opacity(animation, 0.25)\r\n        }, 0)\r\n    },\r\n\r\n    hide(el) {\r\n\r\n        const ripples = el.getElementsByClassName('m-ripple__animation')\r\n\r\n        if (ripples.length === 0) return\r\n        const animation = ripples[ripples.length - 1]\r\n\r\n        if (animation.dataset.isHiding) return\r\n        else animation.dataset.isHiding = 'true'\r\n\r\n        const diff = performance.now() - Number(animation.dataset.activated)\r\n        const delay = Math.max(250 - diff, 0)\r\n\r\n        setTimeout(() => {\r\n            animation.classList.remove('m-ripple__animation--in')\r\n            animation.classList.add('m-ripple__animation--out')\r\n            opacity(animation, 0)\r\n\r\n            setTimeout(() => {\r\n                const ripples = el.getElementsByClassName('m-ripple__animation')\r\n                if (ripples.length === 1 && el.dataset.previousPosition) {\r\n                    el.style.position = el.dataset.previousPosition\r\n                    delete el.dataset.previousPosition\r\n                }\r\n\r\n                animation.parentNode && el.removeChild(animation.parentNode)\r\n            }, 300)\r\n        }, delay)\r\n    },\r\n}\r\n\r\nexport function rippleShow(e) {\r\n    ripples.show(e, e.currentTarget);\r\n}\r\n\r\nexport function rippleHide(e) {\r\n    ripples.hide(e.currentTarget);\r\n}","export function parseMouseEvent(event: MouseEvent): Blazor.MouseEventArgs {\r\n  return {\r\n    detail: event.detail,\r\n    screenX: event.screenX,\r\n    screenY: event.screenY,\r\n    clientX: event.clientX,\r\n    clientY: event.clientY,\r\n    offsetX: event.offsetX,\r\n    offsetY: event.offsetY,\r\n    pageX: event.pageX,\r\n    pageY: event.pageY,\r\n    button: event.button,\r\n    buttons: event.buttons,\r\n    ctrlKey: event.ctrlKey,\r\n    shiftKey: event.shiftKey,\r\n    altKey: event.altKey,\r\n    metaKey: event.metaKey,\r\n    type: event.type,\r\n  };\r\n}\r\n\r\nexport function parseTouchEvent(event: TouchEvent): Blazor.TouchEventArgs {\r\n  return {\r\n    detail: event.detail,\r\n    touches: parseTouch(event.touches),\r\n    targetTouches: parseTouch(event.targetTouches),\r\n    changedTouches: parseTouch(event.changedTouches),\r\n    ctrlKey: event.ctrlKey,\r\n    shiftKey: event.shiftKey,\r\n    altKey: event.altKey,\r\n    metaKey: event.metaKey,\r\n    type: event.type,\r\n  };\r\n}\r\n\r\nfunction parseTouch(touchList: TouchList): Blazor.TouchPoint[] {\r\n  const touches: Blazor.TouchPoint[] = [];\r\n\r\n  for (let i = 0; i < touchList.length; i++) {\r\n    const touch = touchList[i];\r\n    touches.push({\r\n      identifier: touch.identifier,\r\n      clientX: touch.clientX,\r\n      clientY: touch.clientY,\r\n      screenX: touch.screenX,\r\n      screenY: touch.screenY,\r\n      pageX: touch.pageX,\r\n      pageY: touch.pageY,\r\n    });\r\n  }\r\n  return touches;\r\n}","import { getElementSelector } from \"../utils/index\";\r\nimport { parseMouseEvent, parseTouchEvent } from \"./default\";\r\n\r\nexport function registerExtraMouseEvent(eventType: string, eventName: string) {\r\n  if (Blazor) {\r\n    Blazor.registerCustomEventType(eventType, {\r\n      browserEventName: eventName,\r\n      createEventArgs: e => sharedCreateEventArgs(\"mouse\", e)\r\n    })\r\n  }\r\n}\r\n\r\nexport function registerExtraTouchEvent(eventType: string, eventName: string) {\r\n  if (Blazor) {\r\n    Blazor.registerCustomEventType(eventType, {\r\n      browserEventName: eventName,\r\n      createEventArgs: e => sharedCreateEventArgs(\"touch\", e)\r\n    })\r\n  }\r\n}\r\n\r\nfunction sharedCreateEventArgs(type: \"mouse\" | \"touch\", e: Event,) {\r\n  let args = { target: {} }\r\n  if (type === 'mouse') {\r\n    args = {\r\n      ...args,\r\n      ...parseMouseEvent(e as MouseEvent)\r\n    }\r\n  } else if (type === 'touch') {\r\n    args = {\r\n      ...args,\r\n      ...parseTouchEvent(e as TouchEvent)\r\n    }\r\n  }\r\n\r\n  if (e.target) {\r\n    const target = e.target as HTMLElement;\r\n    const elementReferenceId = target.getAttributeNames().find(a => a.startsWith('_bl_'));\r\n    if (elementReferenceId) {\r\n      args.target['elementReferenceId'] = elementReferenceId\r\n      args.target['selector'] = `[${elementReferenceId}]`\r\n    } else {\r\n      args.target['selector'] = getElementSelector(target)\r\n    }\r\n\r\n    args.target['class'] = target.getAttribute('class')\r\n  }\r\n\r\n  return args;\r\n}","import { registerExtraMouseEvent, registerExtraTouchEvent } from \"./extra\";\r\n\r\nexport function registerExtraEvents() {\r\n    registerExtraMouseEvent(\"exmousedown\", \"mousedown\");\r\n    registerExtraMouseEvent(\"exmouseup\", \"mouseup\");\r\n    registerExtraMouseEvent(\"exclick\", \"click\");\r\n    registerExtraMouseEvent(\"exmouseleave\", \"mouseleave\");\r\n    registerExtraMouseEvent(\"exmouseenter\", \"mouseenter\");\r\n    registerExtraMouseEvent(\"exmousemove\", \"mousemove\");\r\n    registerExtraTouchEvent(\"extouchstart\", \"touchstart\");\r\n}","﻿import registerDirective from \"./directive/index\";\r\nimport { registerExtraEvents } from \"./events/index\";\r\n//#region mentions\r\nimport getOffset from \"./modules/Caret\";\r\nimport { getBlazorId, getElementSelector } from \"./utils/index\";\r\n\r\nexport function updateCanvas(element, hue: number) {\r\n  const canvas = element as HTMLCanvasElement\r\n  const ctx = canvas.getContext('2d')\r\n\r\n  if (!ctx) return\r\n\r\n  const saturationGradient = ctx.createLinearGradient(0, 0, canvas.width, 0)\r\n  saturationGradient.addColorStop(0, 'hsla(0, 0%, 100%, 1)') // white\r\n  saturationGradient.addColorStop(1, `hsla(${hue}, 100%, 50%, 1)`)\r\n  ctx.fillStyle = saturationGradient\r\n  ctx.fillRect(0, 0, canvas.width, canvas.height)\r\n\r\n  const valueGradient = ctx.createLinearGradient(0, 0, 0, canvas.height)\r\n  valueGradient.addColorStop(0, 'hsla(0, 0%, 100%, 0)') // transparent\r\n  valueGradient.addColorStop(1, 'hsla(0, 0%, 0%, 1)') // black\r\n  ctx.fillStyle = valueGradient\r\n  ctx.fillRect(0, 0, canvas.width, canvas.height)\r\n}\r\n\r\nexport function getZIndex(el?: Element | null): number {\r\n  if (!el || el.nodeType !== Node.ELEMENT_NODE) return 0\r\n\r\n  const index = +window.getComputedStyle(el).getPropertyValue('z-index')\r\n\r\n  if (!index) return getZIndex(el.parentNode as Element)\r\n  return index\r\n}\r\n\r\nexport function addStepperEventListener(element: HTMLElement, isActive: Boolean) {\r\n  if (element?.addEventListener) {\r\n    element.addEventListener(\r\n      'transitionend',\r\n      e => onTransition(e, isActive, element),\r\n      false\r\n    );\r\n  }\r\n}\r\n\r\nexport function removeStepperEventListener(element: HTMLElement, isActive: Boolean) {\r\n  if (element?.removeEventListener) {\r\n    element.removeEventListener(\r\n      'transitionend',\r\n      e => onTransition(e, isActive, element),\r\n      false\r\n    );\r\n  }\r\n}\r\n\r\nexport function initStepperWrapper(element: HTMLElement) {\r\n  if (!element.classList.contains('active')) {\r\n    element.style.display = 'none';\r\n  }\r\n\r\n  var observer = new MutationObserver(function (mutationsList) {\r\n    for (let mutation of mutationsList) {\r\n      if (mutation.type === 'attributes') {\r\n        if (mutation.attributeName == 'class') {\r\n          var target: HTMLElement = mutation.target as HTMLElement;\r\n          if (target.classList.contains('active')) {\r\n            target.style.display = '';\r\n            enter(target, true);\r\n          } else {\r\n            leave(target);\r\n            setTimeout(() => {\r\n              target.style.display = 'none';\r\n            }, 300);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  observer.observe(element, { attributes: true, attributeFilter: ['class'] });\r\n}\r\n\r\nfunction onTransition(e: TransitionEvent, isActive: Boolean, element: HTMLElement) {\r\n  if (!isActive ||\r\n    e.propertyName !== 'height'\r\n  ) return\r\n\r\n  element.style.height = 'auto';\r\n}\r\n\r\nfunction enter(element: HTMLElement, isActive: Boolean) {\r\n  let scrollHeight = 0\r\n\r\n  // Render bug with height\r\n  requestAnimationFrame(() => {\r\n    scrollHeight = element.scrollHeight;\r\n  });\r\n\r\n  element.style.height = 0 + 'px';\r\n  // Give the collapsing element time to collapse\r\n  setTimeout(() => isActive && (element.style.height = (scrollHeight + 'px' || 'auto')), 450)\r\n}\r\n\r\nfunction leave(element: HTMLElement) {\r\n  element.style.height = element.clientHeight + 'px';\r\n  setTimeout(() => {\r\n    element.style.height = 0 + 'px';\r\n  }, 10)\r\n}\r\n\r\nexport function getDom(element) {\r\n  if (!element) {\r\n    element = document.body;  // TODO: really ???\r\n  } else if (typeof element === 'string') {\r\n    if (element === 'document') {\r\n      return document.documentElement;\r\n    } else if (element.indexOf('.') > 0) {\r\n      let array = element.split('.');\r\n      let el = document.querySelector(array[0]);\r\n      if (!el) {\r\n        return null;\r\n      }\r\n\r\n      element = el[array[1]];\r\n    } else {\r\n      element = document.querySelector(element);\r\n    }\r\n  }\r\n  return element;\r\n}\r\n\r\nexport function getDomInfo(element, selector = \"body\") {\r\n  var result = {};\r\n\r\n  var dom = getDom(element);\r\n\r\n  if (dom) {\r\n    if (dom.style && dom.style['display'] === 'none') {\r\n      // clone and set display not none becuase\r\n      // element with display:none can not get the dom info\r\n      var cloned = dom.cloneNode(true);\r\n      cloned.style['display'] = 'inline-block';\r\n      cloned.style['z-index'] = -1000;\r\n      dom.parentElement.appendChild(cloned);\r\n\r\n      result = getDomInfoObj(cloned);\r\n\r\n      dom.parentElement.removeChild(cloned);\r\n    } else {\r\n      result = getDomInfoObj(dom);\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nfunction getDomInfoObj(dom) {\r\n  var result = {};\r\n  result[\"offsetTop\"] = dom.offsetTop || 0;\r\n  result[\"offsetLeft\"] = dom.offsetLeft || 0;\r\n  result[\"scrollHeight\"] = dom.scrollHeight || 0;\r\n  result[\"scrollWidth\"] = dom.scrollWidth || 0;\r\n  result[\"scrollLeft\"] = dom.scrollLeft || 0;\r\n  result[\"scrollTop\"] = dom.scrollTop || 0;\r\n  result[\"clientTop\"] = dom.clientTop || 0;\r\n  result[\"clientLeft\"] = dom.clientLeft || 0;\r\n  result[\"clientHeight\"] = dom.clientHeight || 0;\r\n  result[\"clientWidth\"] = dom.clientWidth || 0;\r\n  var position = getElementPos(dom);\r\n  result[\"offsetWidth\"] = Math.round(position.offsetWidth) || 0;\r\n  result[\"offsetHeight\"] = Math.round(position.offsetHeight) || 0;\r\n  result[\"relativeTop\"] = Math.round(position.relativeTop) || 0;\r\n  result[\"relativeBottom\"] = Math.round(position.relativeBottom) || 0;\r\n  result[\"relativeLeft\"] = Math.round(position.relativeLeft) || 0;\r\n  result[\"relativeRight\"] = Math.round(position.relativeRight) || 0;\r\n  result[\"absoluteLeft\"] = Math.round(position.absoluteLeft) || 0;\r\n  result[\"absoluteTop\"] = Math.round(position.absoluteTop) || 0;\r\n  return result;\r\n}\r\n\r\nfunction getElementPos(element) {\r\n  var res: any = new Object();\r\n  res.x = 0;\r\n  res.y = 0;\r\n  if (element !== null) {\r\n    if (element.getBoundingClientRect) {\r\n      var viewportElement = document.documentElement;\r\n      var box = element.getBoundingClientRect();\r\n      var scrollLeft = viewportElement.scrollLeft;\r\n      var scrollTop = viewportElement.scrollTop;\r\n\r\n      res.offsetWidth = box.width;\r\n      res.offsetHeight = box.height;\r\n      res.relativeTop = box.top;\r\n      res.relativeBottom = box.bottom;\r\n      res.relativeLeft = box.left;\r\n      res.relativeRight = box.right;\r\n      res.absoluteLeft = box.left + scrollLeft;\r\n      res.absoluteTop = box.top + scrollTop;\r\n    }\r\n  }\r\n  return res;\r\n}\r\n\r\nexport function addFileClickEventListener(btn) {\r\n  if ((btn as HTMLElement).addEventListener) {\r\n    (btn as HTMLElement).addEventListener(\"click\", fileClickEvent);\r\n  }\r\n}\r\n\r\nexport function removeFileClickEventListener(btn) {\r\n  (btn as HTMLElement).removeEventListener(\"click\", fileClickEvent);\r\n}\r\n\r\nexport function fileClickEvent() {\r\n  var fileId = this.attributes[\"data-fileid\"].nodeValue;\r\n  var element = document.getElementById(fileId);\r\n  (element as HTMLInputElement).click();\r\n}\r\n\r\nexport function clearFile(element) {\r\n  element.setAttribute(\"type\", \"input\");\r\n  element.value = '';\r\n  element.setAttribute(\"type\", \"file\");\r\n}\r\n\r\nexport function getFileInfo(element) {\r\n  if (element.files && element.files.length > 0) {\r\n    var fileInfo = [];\r\n    for (var i = 0; i < element.files.length; i++) {\r\n      var file = element.files[i];\r\n      var objectUrl = getObjectURL(file);\r\n      fileInfo.push({\r\n        fileName: file.name,\r\n        size: file.size,\r\n        objectURL: objectUrl,\r\n        type: file.type\r\n      });\r\n    }\r\n\r\n    return fileInfo;\r\n  }\r\n}\r\n\r\nexport function getObjectURL(file: File) {\r\n  var url = null;\r\n  if (window.URL != undefined) {\r\n    url = window.URL.createObjectURL(file);\r\n  } else if (window.webkitURL != undefined) {\r\n    url = window.webkitURL.createObjectURL(file);\r\n  }\r\n  return url;\r\n}\r\n\r\nexport function uploadFile(element, index, data, headers, fileId, url, name, instance, percentMethod, successMethod, errorMethod) {\r\n  let formData = new FormData();\r\n  var file = element.files[index];\r\n  var size = file.size;\r\n  formData.append(name, file);\r\n  if (data != null) {\r\n    for (var key in data) {\r\n      formData.append(key, data[key]);\r\n    }\r\n  }\r\n  const req = new XMLHttpRequest()\r\n  req.onreadystatechange = function () {\r\n    if (req.readyState === 4) {\r\n      if (req.status != 200) {\r\n        instance.invokeMethodAsync(errorMethod, fileId, `{\"status\": ${req.status}}`);\r\n        return;\r\n      }\r\n      instance.invokeMethodAsync(successMethod, fileId, req.responseText);\r\n    }\r\n  }\r\n  req.upload.onprogress = function (event) {\r\n    var percent = Math.floor(event.loaded / size * 100);\r\n    instance.invokeMethodAsync(percentMethod, fileId, percent);\r\n  }\r\n  req.onerror = function (e) {\r\n    instance.invokeMethodAsync(errorMethod, fileId, \"error\");\r\n  }\r\n  req.open('post', url, true)\r\n  if (headers != null) {\r\n    for (var header in headers) {\r\n      req.setRequestHeader(header, headers[header]);\r\n    }\r\n  }\r\n  req.send(formData)\r\n}\r\n\r\nexport function triggerEvent(element, eventType, eventName, stopPropagation) {\r\n  var dom = getDom(element);\r\n  var evt = document.createEvent(eventType);\r\n  evt.initEvent(eventName);\r\n\r\n  if (stopPropagation) {\r\n    evt.stopPropagation();\r\n  }\r\n\r\n  return dom.dispatchEvent(evt);\r\n}\r\n\r\nexport function setProperty(element, name, value) {\r\n  var dom = getDom(element);\r\n  dom[name] = value;\r\n}\r\n\r\nexport function getBoundingClientRect(element, attach = \"body\") {\r\n  let dom = getDom(element);\r\n\r\n  var result = {}\r\n\r\n  if (dom && dom.getBoundingClientRect) {\r\n    if (dom.style && dom.style['display'] === 'none') {\r\n      var cloned = dom.cloneNode(true);\r\n      cloned.style['display'] = 'inline-block';\r\n      cloned.style['z-index'] = -1000;\r\n      document.querySelector(attach)?.appendChild(cloned);\r\n\r\n      result = cloned.getBoundingClientRect();\r\n\r\n      document.querySelector(attach)?.removeChild(cloned);\r\n    } else {\r\n      result = dom.getBoundingClientRect()\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nexport function getFirstChildBoundingClientRect(element, selector = \"body\") {\r\n  let dom = getDom(element);\r\n  if (dom.firstElementChild) {\r\n    if (dom.firstElementChild.style['display'] === 'none') {\r\n      // clone and set display not none becuase\r\n      // element with display:none can not getBoundingClientRect\r\n      var cloned = dom.firstElementChild.cloneNode(true);\r\n      cloned.style['display'] = 'inline-block'\r\n      cloned.style['z-index'] = -1000\r\n      document.querySelector(selector).appendChild(cloned);\r\n      var value = getBoundingClientRect(cloned);\r\n      document.querySelector(selector).removeChild(cloned);\r\n      return value;\r\n    } else {\r\n      return getBoundingClientRect(dom.firstElementChild);\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nvar htmlElementEventListennerConfigs: { [prop: string]: any[] } = {}\r\n\r\nexport function addHtmlElementEventListener<K extends keyof HTMLElementTagNameMap>(\r\n  selector: \"window\" | \"document\" | K,\r\n  type: string,\r\n  invoker: DotNet.DotNetObject,\r\n  options?: boolean | AddEventListenerOptions,\r\n  extras?: Partial<Pick<Event, \"stopPropagation\" | \"preventDefault\">> & { relatedTarget?: string, throttle?: number, debounce?: number, key?: string }) {\r\n  let htmlElement: HTMLElement | Window\r\n\r\n  if (selector == \"window\") {\r\n    htmlElement = window;\r\n  } else if (selector == \"document\") {\r\n    htmlElement = document.documentElement;\r\n  } else {\r\n    htmlElement = document.querySelector(selector);\r\n  }\r\n\r\n  var key = extras?.key || `${selector}:${type}`;\r\n\r\n  //save for remove\r\n  var config = {};\r\n\r\n  var listener = (args: any): void => {\r\n    if (extras?.stopPropagation) {\r\n      args.stopPropagation();\r\n    }\r\n\r\n    if (extras?.preventDefault) {\r\n      args.preventDefault();\r\n    }\r\n\r\n    // mouseleave relatedTarget\r\n    if (extras?.relatedTarget && document.querySelector(extras.relatedTarget)?.contains(args.relatedTarget)) {\r\n      return;\r\n    }\r\n\r\n    const obj = {};\r\n\r\n    for (var k in args) {\r\n      if (typeof args[k] == 'string' || typeof args[k] == 'number') {\r\n        obj[k] = args[k];\r\n      } else if (k == 'target' && args.target.attributes) {\r\n        var target = {\r\n          attributes: {}\r\n        };\r\n\r\n        for (let index = 0; index < args.target.attributes.length; index++) {\r\n          const attr = args.target.attributes[index];\r\n          target.attributes[attr.name] = attr.value;\r\n        }\r\n        obj[k] = target;\r\n      } else if (k == 'touches' || k == 'targetTouches' || k == 'changedTouches') {\r\n        var list = [];\r\n        args[k].forEach(touch => {\r\n          var item = {};\r\n\r\n          for (var attr in touch) {\r\n            if (typeof (touch[attr]) == 'string' || typeof (touch[attr]) == 'number') {\r\n              item[attr] = touch[attr];\r\n            }\r\n          }\r\n          list.push(item);\r\n        });\r\n\r\n        obj[k] = list;\r\n      }\r\n    }\r\n\r\n    invoker.invokeMethodAsync('Invoke', obj);\r\n  };\r\n\r\n  if (extras?.debounce && extras.debounce > 0) {\r\n    let timeout: NodeJS.Timeout;\r\n    config[\"listener\"] = function (args: any) {\r\n      clearTimeout(timeout)\r\n      timeout = setTimeout(() => listener(args), extras.debounce);\r\n    }\r\n  }\r\n  else if (extras?.throttle && extras.throttle > 0) {\r\n    let throttled: boolean;\r\n    config[\"listener\"] = function (args: any) {\r\n      if (!throttled) {\r\n        listener(args)\r\n        throttled = true;\r\n        setTimeout(() => {\r\n          throttled = false;\r\n        }, (extras?.throttle ?? 0));\r\n      }\r\n    }\r\n  } else {\r\n    config[\"listener\"] = listener;\r\n  }\r\n\r\n  config['options'] = options;\r\n\r\n  if (htmlElementEventListennerConfigs[key]) {\r\n    htmlElementEventListennerConfigs[key].push(config);\r\n  } else {\r\n    htmlElementEventListennerConfigs[key] = [config]\r\n  }\r\n\r\n  if (htmlElement) {\r\n    htmlElement.addEventListener(type, config[\"listener\"], options);\r\n  }\r\n}\r\n\r\nexport function removeHtmlElementEventListener(selector, type, k?: string) {\r\n  let htmlElement: any\r\n\r\n  if (selector == \"window\") {\r\n    htmlElement = window;\r\n  } else if (selector == \"document\") {\r\n    htmlElement = document.documentElement;\r\n  } else {\r\n    htmlElement = document.querySelector(selector);\r\n  }\r\n\r\n  var k = k || `${selector}:${type}`;\r\n\r\n  var configs = htmlElementEventListennerConfigs[k];\r\n\r\n  if (configs) {\r\n    configs.forEach(item => {\r\n      htmlElement?.removeEventListener(type, item[\"listener\"], item['options']);\r\n    });\r\n\r\n    htmlElementEventListennerConfigs[k] = []\r\n  }\r\n}\r\n\r\nvar outsideClickListenerCaches: { [key: string]: any } = {}\r\n\r\nexport function addOutsideClickEventListener(invoker, noInvokeSelectors: string[], invokeSelectors: string[], contentElement) {\r\n  if (!noInvokeSelectors) return;\r\n\r\n  noInvokeSelectors = noInvokeSelectors.filter(s => !!s)\r\n\r\n  var listener = function (args) {\r\n    var exists = noInvokeSelectors.some(s => getDom(s)?.contains(args.target));\r\n    if (exists) return;\r\n\r\n    var pointerSelector = getElementSelector(args.target)\r\n\r\n    if (invokeSelectors) {\r\n      if (invokeSelectors.some(s => getDom(s)?.contains(args.target))) {\r\n        invoker.invokeMethodAsync(\"Invoke\", {pointerSelector});\r\n      }\r\n    } else {\r\n      invoker.invokeMethodAsync(\"Invoke\", {pointerSelector});\r\n    }\r\n  }\r\n\r\n  document.addEventListener(\"click\", listener, true);\r\n\r\n  var key = `(${noInvokeSelectors.join(',')})document:click`\r\n\r\n  outsideClickListenerCaches[key] = listener;\r\n}\r\n\r\nexport function removeOutsideClickEventListener(noInvokeSelectors: string[]) {\r\n  if (!noInvokeSelectors) return;\r\n\r\n  noInvokeSelectors = noInvokeSelectors.filter(s => !!s)\r\n\r\n  var key = `(${noInvokeSelectors.join(',')})document:click`\r\n\r\n  if (outsideClickListenerCaches[key]) {\r\n    document.removeEventListener('click', outsideClickListenerCaches[key], true);\r\n    outsideClickListenerCaches[key] = undefined\r\n  }\r\n}\r\n\r\nexport function addMouseleaveEventListener(selector) {\r\n  var htmlElement = document.querySelector(selector);\r\n  if (htmlElement) {\r\n    htmlElement.addEventListener()\r\n  }\r\n}\r\n\r\nexport function contains(e1, e2) {\r\n  const dom1 = getDom(e1);\r\n  if (dom1 && dom1.contains) {\r\n    return dom1.contains(getDom(e2));\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function equalsOrContains(e1: any, e2: any) {\r\n  const dom1 = getDom(e1);\r\n  const dom2 = getDom(e2);\r\n  return !!dom1 && dom1.contains && !!dom2 && (dom1 == dom2 || dom1.contains(dom2));\r\n}\r\n\r\nexport function matchMedia(query) {\r\n  return window.matchMedia(query).matches;\r\n}\r\n\r\nfunction fallbackCopyTextToClipboard(text) {\r\n  var textArea = document.createElement(\"textarea\");\r\n  textArea.value = text;\r\n\r\n  // Avoid scrolling to bottom\r\n  textArea.style.top = \"0\";\r\n  textArea.style.left = \"0\";\r\n  textArea.style.position = \"fixed\";\r\n\r\n  document.body.appendChild(textArea);\r\n  textArea.focus();\r\n  textArea.select();\r\n\r\n  try {\r\n    var successful = document.execCommand('copy');\r\n    var msg = successful ? 'successful' : 'unsuccessful';\r\n    console.log('Fallback: Copying text command was ' + msg);\r\n  } catch (err) {\r\n    console.error('Fallback: Oops, unable to copy', err);\r\n  }\r\n\r\n  document.body.removeChild(textArea);\r\n}\r\n\r\nexport function copy(text) {\r\n  if (!navigator.clipboard) {\r\n    fallbackCopyTextToClipboard(text);\r\n    return;\r\n  }\r\n  navigator.clipboard.writeText(text).then(function () {\r\n    console.log('Async: Copying to clipboard was successful!');\r\n  }, function (err) {\r\n    console.error('Async: Could not copy text: ', err);\r\n  });\r\n}\r\n\r\nexport function focus(selector, noScroll: boolean = false) {\r\n  let dom = getDom(selector);\r\n  if (!(dom instanceof HTMLElement))\r\n    throw new Error(\"Unable to focus an invalid element.\");\r\n  dom.focus({\r\n    preventScroll: noScroll\r\n  })\r\n}\r\n\r\nexport function select(selector) {\r\n  let dom = getDom(selector);\r\n  if (!(dom instanceof HTMLInputElement || dom instanceof HTMLTextAreaElement))\r\n    throw new Error(\"Unable to select an invalid element\")\r\n  dom.select()\r\n}\r\n\r\nexport function hasFocus(selector) {\r\n  let dom = getDom(selector);\r\n  return (document.activeElement === dom);\r\n}\r\n\r\nexport function blur(selector) {\r\n  let dom = getDom(selector);\r\n  dom.blur();\r\n}\r\n\r\nexport function log(text) {\r\n  console.log(text);\r\n}\r\n\r\nexport function backTop(target: string) {\r\n  let dom = getDom(target);\r\n  if (dom) {\r\n    slideTo(dom.scrollTop);\r\n  } else {\r\n    slideTo(0);\r\n  }\r\n}\r\n\r\nfunction slideTo(targetPageY) {\r\n  var timer = setInterval(function () {\r\n    var currentY = document.documentElement.scrollTop || document.body.scrollTop;\r\n    var distance = targetPageY > currentY ? targetPageY - currentY : currentY - targetPageY;\r\n    var speed = Math.ceil(distance / 10);\r\n    if (currentY == targetPageY) {\r\n      clearInterval(timer);\r\n    } else {\r\n      window.scrollTo(0, targetPageY > currentY ? currentY + speed : currentY - speed);\r\n    }\r\n  }, 10);\r\n}\r\n\r\nexport function scrollTo(target) {\r\n  let dom = getDom(target);\r\n  if (dom instanceof HTMLElement) {\r\n    dom.scrollIntoView({\r\n      behavior: \"smooth\",\r\n      block: \"start\",\r\n      inline: \"nearest\"\r\n    });\r\n  }\r\n}\r\n\r\nexport function scrollToActiveElement(container, target) {\r\n  let dom: HTMLElement = getDom(container);\r\n\r\n  target = dom.querySelector('.active') as HTMLElement;\r\n  if (!target) {\r\n    return;\r\n  }\r\n\r\n  dom.scrollTop = target.offsetTop - dom.offsetHeight / 2 + target.offsetHeight / 2;\r\n}\r\n\r\nexport function scrollToPosition(container, position) {\r\n  var dom = getDom(container);\r\n  dom.scrollTo({ top: position, behavior: 'smooth'})\r\n}\r\n\r\nexport function getFirstChildDomInfo(element, selector = \"body\") {\r\n  var dom = getDom(element);\r\n  if (dom.firstElementChild)\r\n    return getDomInfo(dom.firstElementChild, selector);\r\n  return getDomInfo(dom, selector);\r\n}\r\n\r\nexport function addClsToFirstChild(element, className) {\r\n  var dom = getDom(element);\r\n  if (dom.firstElementChild) {\r\n    dom.firstElementChild.classList.add(className);\r\n  }\r\n}\r\n\r\nexport function removeClsFromFirstChild(element, className) {\r\n  var dom = getDom(element);\r\n  if (dom.firstElementChild) {\r\n    dom.firstElementChild.classList.remove(className);\r\n  }\r\n}\r\n\r\nexport function getAbsoluteTop(e) {\r\n  var offset = e.offsetTop;\r\n  if (e.offsetParent != null) {\r\n    offset += getAbsoluteTop(e.offsetParent);\r\n  }\r\n  return offset;\r\n}\r\n\r\nexport function getAbsoluteLeft(e) {\r\n  var offset = e.offsetLeft;\r\n  if (e.offsetParent != null) {\r\n    offset += getAbsoluteLeft(e.offsetParent);\r\n  }\r\n  return offset;\r\n}\r\n\r\nexport function addElementToBody(element) {\r\n  document.body.appendChild(element);\r\n}\r\n\r\nexport function delElementFromBody(element) {\r\n  document.body.removeChild(element);\r\n}\r\n\r\nexport function addElementTo(addElement, elementSelector) {\r\n  let parent = getDom(elementSelector);\r\n  if (parent && addElement) {\r\n    parent.appendChild(addElement);\r\n  }\r\n}\r\n\r\nexport function delElementFrom(delElement, elementSelector) {\r\n  let parent = getDom(elementSelector);\r\n  if (parent && delElement) {\r\n    parent.removeChild(delElement);\r\n  }\r\n}\r\n\r\nexport function getActiveElement() {\r\n  let element = document.activeElement;\r\n  let id = element.getAttribute(\"id\") || \"\";\r\n  return id;\r\n}\r\n\r\nexport function focusDialog(selector: string, count: number = 0) {\r\n  let ele = <HTMLElement>document.querySelector(selector);\r\n  if (ele && !ele.hasAttribute(\"disabled\")) {\r\n    setTimeout(() => {\r\n      ele.focus();\r\n      let curId = \"#\" + getActiveElement();\r\n      if (curId !== selector) {\r\n        if (count < 10) {\r\n          focusDialog(selector, count + 1);\r\n        }\r\n      }\r\n    }, 10);\r\n  }\r\n}\r\n\r\nexport function getWindow() {\r\n  return {\r\n    innerWidth: window.innerWidth,\r\n    innerHeight: window.innerHeight,\r\n    pageXOffset: window.pageXOffset,\r\n    pageYOffset: window.pageYOffset,\r\n    isTop: window.scrollY == 0,\r\n    isBottom: (window.scrollY + window.innerHeight) == document.body.clientHeight\r\n  };\r\n}\r\n\r\nexport function getWindowAndDocumentProps(windowProps: string[] = [], documentProps: string[] = []) {\r\n  const obj = {}\r\n\r\n  if (windowProps) {\r\n    windowProps.forEach(prop => obj[prop] = window[prop]);\r\n  }\r\n\r\n  if (documentProps) {\r\n    documentProps.forEach(prop => obj[prop] = document.documentElement[prop]);\r\n  }\r\n\r\n  return obj\r\n}\r\n\r\nfunction debounce(func, wait, immediate) {\r\n  var timeout;\r\n  return () => {\r\n    const context = this, args = arguments;\r\n    const later = () => {\r\n      timeout = null;\r\n      if (!immediate) func.apply(this, args);\r\n    };\r\n    const callNow = immediate && !timeout;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n    if (callNow) func.apply(context, args);\r\n  };\r\n};\r\n\r\nexport function css(element: any, name: string | object, value: string | null = null) {\r\n  var dom = getDom(element);\r\n  if (typeof name === 'string') {\r\n    dom.style[name] = value;\r\n  } else {\r\n    for (let key in name) {\r\n      if (name.hasOwnProperty(key)) {\r\n        dom.style[key] = name[key];\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport function addCls(selector: Element | string, clsName: string | Array<string>) {\r\n  let element = getDom(selector);\r\n\r\n  if (typeof clsName === \"string\") {\r\n    element.classList.add(clsName);\r\n  } else {\r\n    element.classList.add(...clsName);\r\n  }\r\n}\r\n\r\nexport function removeCls(selector: Element | string, clsName: string | Array<string>) {\r\n  let element = getDom(selector);\r\n\r\n  if (typeof clsName === \"string\") {\r\n    element.classList.remove(clsName);\r\n  } else {\r\n    element.classList.remove(...clsName);\r\n  }\r\n}\r\n\r\nexport function elementScrollIntoView(selector: Element | string) {\r\n  let element = getDom(selector);\r\n\r\n  if (!element)\r\n    return;\r\n\r\n  element.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });\r\n}\r\n\r\nconst oldBodyCacheStack = [];\r\n\r\nconst hasScrollbar = () => {\r\n  let overflow = document.body.style.overflow;\r\n  if (overflow && overflow === \"hidden\") return false;\r\n  return document.body.scrollHeight > (window.innerHeight || document.documentElement.clientHeight);\r\n}\r\n\r\nexport function disableBodyScroll() {\r\n  let body = document.body;\r\n  const oldBodyCache = {};\r\n  [\"position\", \"width\", \"overflow\"].forEach((key) => {\r\n    oldBodyCache[key] = body.style[key];\r\n  });\r\n  oldBodyCacheStack.push(oldBodyCache);\r\n  css(body,\r\n    {\r\n      \"position\": \"relative\",\r\n      \"width\": hasScrollbar() ? \"calc(100% - 17px)\" : null,\r\n      \"overflow\": \"hidden\"\r\n    });\r\n  addCls(document.body, \"ant-scrolling-effect\");\r\n}\r\n\r\nexport function enableBodyScroll() {\r\n  let oldBodyCache = oldBodyCacheStack.length > 0 ? oldBodyCacheStack.pop() : {};\r\n\r\n  css(document.body,\r\n    {\r\n      \"position\": oldBodyCache[\"position\"] ?? null,\r\n      \"width\": oldBodyCache[\"width\"] ?? null,\r\n      \"overflow\": oldBodyCache[\"overflow\"] ?? null\r\n    });\r\n  removeCls(document.body, \"ant-scrolling-effect\");\r\n}\r\n\r\nexport function destroyAllDialog() {\r\n  document.querySelectorAll('.ant-modal-root')\r\n    .forEach(e => document.body.removeChild(e.parentNode));\r\n}\r\n\r\nexport function createIconFromfontCN(scriptUrl) {\r\n  if (document.querySelector(`[data-namespace=\"${scriptUrl}\"]`)) {\r\n    return;\r\n  }\r\n  const script = document.createElement('script');\r\n  script.setAttribute('src', scriptUrl);\r\n  script.setAttribute('data-namespace', scriptUrl);\r\n  document.body.appendChild(script);\r\n}\r\n\r\nexport function getScroll() {\r\n  return { x: window.pageXOffset, y: window.pageYOffset };\r\n}\r\n\r\nexport function getInnerText(element) {\r\n  let dom = getDom(element);\r\n  return dom.innerText;\r\n}\r\n\r\nexport function getMenuOrDialogMaxZIndex(exclude: Element[] = [], element: Element) {\r\n  const base = getDom(element);\r\n  // Start with lowest allowed z-index or z-index of\r\n  // base component's element, whichever is greater\r\n  const zis = [getZIndex(base)]\r\n\r\n  const activeElements = [\r\n    ...document.getElementsByClassName('m-menu__content--active'),\r\n    ...document.getElementsByClassName('m-dialog__content--active'),\r\n  ]\r\n\r\n  // Get z-index for all active dialogs\r\n  for (let index = 0; index < activeElements.length; index++) {\r\n    if (!exclude.includes(activeElements[index])) {\r\n      zis.push(getZIndex(activeElements[index]))\r\n    }\r\n  }\r\n\r\n  return Math.max(...zis)\r\n}\r\n\r\nexport function getMaxZIndex() {\r\n  return [...document.all].reduce((r, e) => Math.max(r, +window.getComputedStyle(e).zIndex || 0), 0)\r\n}\r\n\r\nexport function getStyle(element, styleProp) {\r\n  element = getDom(element);\r\n\r\n  if (element.currentStyle) {\r\n    return element.currentStyle[styleProp];\r\n  } else if (window.getComputedStyle) {\r\n    return document.defaultView.getComputedStyle(element, null).getPropertyValue(styleProp);\r\n  }\r\n}\r\n\r\nexport function getTextAreaInfo(element) {\r\n  var result = {};\r\n  var dom = getDom(element);\r\n  result[\"scrollHeight\"] = dom.scrollHeight || 0;\r\n\r\n  if (element.currentStyle) {\r\n    result[\"lineHeight\"] = parseFloat(element.currentStyle[\"line-height\"]);\r\n    result[\"paddingTop\"] = parseFloat(element.currentStyle[\"padding-top\"]);\r\n    result[\"paddingBottom\"] = parseFloat(element.currentStyle[\"padding-bottom\"]);\r\n    result[\"borderBottom\"] = parseFloat(element.currentStyle[\"border-bottom\"]);\r\n    result[\"borderTop\"] = parseFloat(element.currentStyle[\"border-top\"]);\r\n  } else if (window.getComputedStyle) {\r\n    result[\"lineHeight\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"line-height\"));\r\n    result[\"paddingTop\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"padding-top\"));\r\n    result[\"paddingBottom\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"padding-bottom\"));\r\n    result[\"borderBottom\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"border-bottom\"));\r\n    result[\"borderTop\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"border-top\"));\r\n  }\r\n  //Firefox can return this as NaN, so it has to be handled here like that.\r\n  if (Object.is(NaN, result[\"borderTop\"]))\r\n    result[\"borderTop\"] = 1;\r\n  if (Object.is(NaN, result[\"borderBottom\"]))\r\n    result[\"borderBottom\"] = 1;\r\n  return result;\r\n}\r\n\r\nconst funcDict = {};\r\n\r\nexport function registerResizeTextArea(element, minRows, maxRows, objReference) {\r\n  if (!objReference) {\r\n    disposeResizeTextArea(element);\r\n  } else {\r\n    objReferenceDict[element.id] = objReference;\r\n    funcDict[element.id + \"input\"] = function () {\r\n      resizeTextArea(element, minRows, maxRows);\r\n    }\r\n    element.addEventListener(\"input\", funcDict[element.id + \"input\"]);\r\n    return getTextAreaInfo(element);\r\n  }\r\n}\r\n\r\nexport function disposeResizeTextArea(element) {\r\n  element.removeEventListener(\"input\", funcDict[element.id + \"input\"]);\r\n  objReferenceDict[element.id] = null;\r\n  funcDict[element.id + \"input\"] = null;\r\n\r\n}\r\n\r\nexport function resizeTextArea(element, minRows, maxRows) {\r\n  var dims = getTextAreaInfo(element);\r\n  var rowHeight = dims[\"lineHeight\"];\r\n  var offsetHeight = dims[\"paddingTop\"] + dims[\"paddingBottom\"] + dims[\"borderTop\"] + dims[\"borderBottom\"];\r\n  var oldHeight = parseFloat(element.style.height);\r\n  element.style.height = 'auto';\r\n\r\n  var rows = Math.trunc(element.scrollHeight / rowHeight);\r\n  rows = Math.max(minRows, rows);\r\n\r\n  var newHeight = 0;\r\n  if (rows > maxRows) {\r\n    rows = maxRows;\r\n\r\n    newHeight = (rows * rowHeight + offsetHeight);\r\n    element.style.height = newHeight + \"px\";\r\n    element.style.overflowY = \"visible\";\r\n  } else {\r\n    newHeight = rows * rowHeight + offsetHeight;\r\n    element.style.height = newHeight + \"px\";\r\n    element.style.overflowY = \"hidden\";\r\n  }\r\n  if (oldHeight !== newHeight) {\r\n    let textAreaObj = objReferenceDict[element.id];\r\n    textAreaObj.invokeMethodAsync(\"ChangeSizeAsyncJs\", parseFloat(element.scrollWidth), newHeight);\r\n  }\r\n}\r\n\r\n\r\nconst objReferenceDict = {};\r\n\r\nexport function disposeObj(objReferenceName) {\r\n  delete objReferenceDict[objReferenceName];\r\n}\r\n\r\nexport function getCursorXY(element, objReference) {\r\n  objReferenceDict[\"mentions\"] = objReference;\r\n  window.addEventListener(\"click\", mentionsOnWindowClick);\r\n\r\n  var offset = getOffset(element);\r\n\r\n  return [offset.left, offset.top + offset.height + 14];\r\n}\r\n\r\nfunction mentionsOnWindowClick(e) {\r\n  let mentionsObj = objReferenceDict[\"mentions\"];\r\n  if (mentionsObj) {\r\n    mentionsObj.invokeMethodAsync(\"CloseMentionsDropDown\");\r\n  } else {\r\n    window.removeEventListener(\"click\", mentionsOnWindowClick);\r\n  }\r\n}\r\n\r\n//#endregion\r\n\r\nexport { disableDraggable, enableDraggable, resetModalPosition } from \"./modules/dragHelper\";\r\n\r\nexport function bindTableHeaderAndBodyScroll(bodyRef, headerRef) {\r\n  bodyRef.bindScrollLeftToHeader = () => {\r\n    headerRef.scrollLeft = bodyRef.scrollLeft;\r\n  }\r\n  bodyRef.addEventListener('scroll', bodyRef.bindScrollLeftToHeader);\r\n}\r\n\r\nexport function unbindTableHeaderAndBodyScroll(bodyRef) {\r\n  if (bodyRef) {\r\n    bodyRef.removeEventListener('scroll', bodyRef.bindScrollLeftToHeader);\r\n  }\r\n}\r\n\r\nfunction preventKeys(e, keys: string[]) {\r\n  if (keys.indexOf(e.key.toUpperCase()) !== -1) {\r\n    e.preventDefault();\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function addPreventKeys(inputElement, keys: string[]) {\r\n  if (inputElement) {\r\n    let dom = getDom(inputElement);\r\n    keys = keys.map(function (x) {\r\n      return x.toUpperCase();\r\n    })\r\n    funcDict[inputElement.id + \"keydown\"] = (e) => preventKeys(e, keys);\r\n    (dom as HTMLElement).addEventListener(\"keydown\", funcDict[inputElement.id + \"keydown\"], false);\r\n  }\r\n}\r\n\r\nexport function removePreventKeys(inputElement) {\r\n  if (inputElement) {\r\n    let dom = getDom(inputElement);\r\n    (dom as HTMLElement).removeEventListener(\"keydown\", funcDict[inputElement.id + \"keydown\"]);\r\n    funcDict[inputElement.id + \"keydown\"] = null;\r\n  }\r\n}\r\n\r\nfunction preventKeyOnCondition(e, key: string, check: () => boolean) {\r\n  if (e.key.toUpperCase() === key.toUpperCase() && check()) {\r\n    e.preventDefault();\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function addPreventEnterOnOverlayVisible(element, overlayElement) {\r\n  if (element && overlayElement) {\r\n    let dom = getDom(element);\r\n    funcDict[element.id + \"keydown:Enter\"] = (e) => preventKeyOnCondition(e, \"enter\", () => overlayElement.offsetParent !== null);\r\n    (dom as HTMLElement).addEventListener(\"keydown\", funcDict[element.id + \"keydown:Enter\"], false);\r\n  }\r\n}\r\n\r\nexport function removePreventEnterOnOverlayVisible(element) {\r\n  if (element) {\r\n    let dom = getDom(element);\r\n    (dom as HTMLElement).removeEventListener(\"keydown\", funcDict[element.id + \"keydown:Enter\"]);\r\n    funcDict[element.id + \"keydown:Enter\"] = null;\r\n  }\r\n}\r\n\r\nexport function insertAdjacentHTML(position, text: string) {\r\n  document.head.insertAdjacentHTML(position, text);\r\n}\r\n\r\nexport function getImageDimensions(src: string) {\r\n  return new Promise(function (resolve, reject) {\r\n    var img = new Image()\r\n    img.src = src\r\n    img.onload = function () {\r\n      resolve({\r\n        width: img.width,\r\n        height: img.height,\r\n        hasError: false\r\n      })\r\n    }\r\n    img.onerror = function () {\r\n      resolve({\r\n        width: 0,\r\n        height: 0,\r\n        hasError: true\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nexport function enablePreventDefaultForEvent(element: any, event: string, condition?: any) {\r\n  const dom = getDom(element);\r\n  if (!dom) return;\r\n  if (event === 'keydown') {\r\n    dom.addEventListener(event, (e: KeyboardEvent) => {\r\n      if (Array.isArray(condition)) {\r\n        var codes = condition as string[];\r\n        if (codes.includes(e.code)) {\r\n          e.preventDefault();\r\n        }\r\n      } else {\r\n        e.preventDefault();\r\n      }\r\n    })\r\n  } else {\r\n    dom.addEventListener(event, e => {\r\n      if (e.preventDefault) {\r\n        e.preventDefault();\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport function resizeObserver(selector: string, invoker: DotNet.DotNetObject) {\r\n  var el = document.querySelector(selector);\r\n  if (!el) return;\r\n\r\n  const resizeObserver = new ResizeObserver((entries => {\r\n    const dimensions = [];\r\n    for (var entry of entries) {\r\n      const dimension = entry.contentRect;\r\n      dimensions.push(dimension);\r\n    }\r\n    invoker.invokeMethodAsync('Invoke', dimensions);\r\n  }));\r\n\r\n  resizeObserver.observe(el);\r\n}\r\n\r\nexport function intersectionObserver(selector: string, invokers: DotNet.DotNetObject[]) {\r\n  var el = document.querySelector(selector);\r\n  if (!el) return;\r\n\r\n  const observer = new IntersectionObserver((\r\n    entries: IntersectionObserverEntry[] = [],\r\n    observer: IntersectionObserver\r\n  ) => {\r\n    if (entries.some(e => e.isIntersecting)) {\r\n      invokers.forEach(item => {\r\n        item.invokeMethodAsync('Invoke')\r\n      })\r\n    }\r\n  })\r\n\r\n  observer.observe(el)\r\n}\r\n\r\nexport function getBoundingClientRects(selector) {\r\n  var elements = document.querySelectorAll(selector);\r\n\r\n  var result = [];\r\n\r\n  for (var i = 0; i < elements.length; i++) {\r\n    var e: Element = elements[i];\r\n    var dom = {\r\n      id: e.id,\r\n      rect: e.getBoundingClientRect()\r\n    };\r\n    result.push(dom);\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nexport function getSize(selectors, sizeProp) {\r\n  var el = getDom(selectors);\r\n\r\n  var display = el.style.display;\r\n  var overflow = el.style.overflow;\r\n\r\n  el.style.display = \"\";\r\n  el.style.overflow = \"hidden\";\r\n\r\n  var size = el[\"offset\" + sizeProp.charAt(0).toUpperCase() + sizeProp.slice(1)] || 0;\r\n\r\n  el.style.display = display;\r\n  el.style.overflow = overflow;\r\n\r\n  return size;\r\n}\r\n\r\nexport function getProp(selectors, name) {\r\n  var el = getDom(selectors);\r\n  if (!el) {\r\n    return null;\r\n  }\r\n\r\n  return el[name];\r\n}\r\n\r\nexport function updateWindowTransition(selectors, isActive, item) {\r\n  var el: HTMLElement = getDom(selectors);\r\n  var container: HTMLElement = el.querySelector('.m-window__container');\r\n\r\n  if (item) {\r\n    var itemEl: HTMLElement = getDom(item);\r\n    container.style.height = itemEl.clientHeight + 'px';\r\n    return;\r\n  }\r\n\r\n  if (isActive) {\r\n    container.classList.add('m-window__container--is-active');\r\n    container.style.height = el.clientHeight + 'px';\r\n  } else {\r\n    container.style.height = '';\r\n    container.classList.remove('m-window__container--is-active');\r\n  }\r\n}\r\n\r\nexport function getScrollHeightWithoutHeight(selectors) {\r\n  var el: HTMLElement = getDom(selectors);\r\n  if (!el) {\r\n    return 0;\r\n  }\r\n\r\n  var height = el.style.height;\r\n  el.style.height = '0'\r\n  var scrollHeight = el.scrollHeight;\r\n  el.style.height = height;\r\n\r\n  return scrollHeight;\r\n}\r\n\r\n//register custom events\r\nwindow.onload = function () {\r\n  registerExtraEvents();\r\n  registerPasteWithData(\"pastewithdata\")\r\n  registerDirective();\r\n}\r\n\r\nfunction registerPasteWithData(customEventName) {\r\n  if (Blazor) {\r\n    Blazor.registerCustomEventType(customEventName, {\r\n      browserEventName: 'paste',\r\n      createEventArgs: (event: ClipboardEvent) => {\r\n        return {\r\n          type: event.type,\r\n          pastedData: event.clipboardData.getData('text')\r\n        };\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport function registerTextFieldOnMouseDown(element, inputElement, callback) {\r\n  element.addEventListener('mousedown', (e: MouseEvent) => {\r\n    const target = e.target;\r\n    const inputDom = getDom(inputElement);\r\n    if (target !== inputDom) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    }\r\n\r\n    if (callback) {\r\n      const mouseEventArgs = {\r\n        Detail: e.detail,\r\n        ScreenX: e.screenX,\r\n        ScreenY: e.screenY,\r\n        ClientX: e.clientX,\r\n        ClientY: e.clientY,\r\n        OffsetX: e.offsetX,\r\n        OffsetY: e.offsetY,\r\n        PageX: e.pageX,\r\n        PageY: e.pageY,\r\n        Button: e.button,\r\n        Buttons: e.buttons,\r\n        CtrlKey: e.ctrlKey,\r\n        ShiftKey: e.shiftKey,\r\n        AltKey: e.altKey,\r\n        MetaKey: e.metaKey,\r\n        Type: e.type\r\n      }\r\n\r\n      callback.invokeMethodAsync('Invoke', mouseEventArgs);\r\n    }\r\n  })\r\n}\r\n\r\nexport function isMobile() {\r\n  return /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)\r\n    || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(navigator.userAgent.substr(0, 4));\r\n}\r\n\r\nexport function containsActiveElement(selector) {\r\n  var el = getDom(selector);\r\n  if (el && el.contains) {\r\n    return el.contains(document.activeElement);\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport function copyChild(el) {\r\n  if (typeof el === 'string') {\r\n    el = document.querySelector(el);\r\n  }\r\n\r\n  if (!el) return;\r\n\r\n  el.setAttribute('contenteditable', 'true');\r\n  el.focus();\r\n  document.execCommand('selectAll', false, null);\r\n  document.execCommand('copy');\r\n  document.execCommand('unselect');\r\n  el.removeAttribute('contenteditable');\r\n}\r\n\r\nexport function copyText(text) {\r\n  if (!navigator.clipboard) {\r\n    var textArea = document.createElement(\"textarea\");\r\n    textArea.value = text;\r\n\r\n    // Avoid scrolling to bottom\r\n    textArea.style.top = \"0\";\r\n    textArea.style.left = \"0\";\r\n    textArea.style.position = \"fixed\";\r\n\r\n    document.body.appendChild(textArea);\r\n    textArea.focus();\r\n    textArea.select();\r\n\r\n    try {\r\n      var successful = document.execCommand('copy');\r\n      var msg = successful ? 'successful' : 'unsuccessful';\r\n      console.log('Fallback: Copying text command was ' + msg);\r\n    } catch (err) {\r\n      console.error('Fallback: Oops, unable to copy', err);\r\n    }\r\n\r\n    document.body.removeChild(textArea);\r\n    return;\r\n  }\r\n\r\n  navigator.clipboard.writeText(text).then(function () {\r\n    console.log('Async: Copying to clipboard was successful!');\r\n  }, function (err) {\r\n    console.error('Async: Could not copy text: ', err);\r\n  });\r\n}\r\n\r\nexport function getMenuableDimensions(hasActivator, activatorSelector, attach, contentElement, attached, attachSelector) {\r\n  if (!attached) {\r\n    var container = document.querySelector(attachSelector);\r\n    if (contentElement.nodeType) {\r\n      container.appendChild(contentElement);\r\n    }\r\n  }\r\n\r\n  var dimensions = {\r\n    activator: {} as any,\r\n    content: null,\r\n    relativeYOffset: 0,\r\n    offsetParentLeft: 0\r\n  };\r\n\r\n  if (hasActivator) {\r\n    var activator = document.querySelector(activatorSelector);\r\n    dimensions.activator = measure(activator, attach)\r\n    dimensions.activator.offsetLeft = activator.offsetLeft\r\n    if (attach !== null) {\r\n      // account for css padding causing things to not line up\r\n      // this is mostly for v-autocomplete, hopefully it won't break anything\r\n      dimensions.activator.offsetTop = activator.offsetTop\r\n    } else {\r\n      dimensions.activator.offsetTop = 0\r\n    }\r\n  }\r\n\r\n  sneakPeek(() => {\r\n    if (contentElement) {\r\n      if (contentElement.offsetParent) {\r\n        const offsetRect = getRoundedBoundedClientRect(contentElement.offsetParent)\r\n        dimensions.relativeYOffset = window.pageYOffset + offsetRect.top\r\n\r\n        if (hasActivator) {\r\n          dimensions.activator.top -= dimensions.relativeYOffset\r\n          dimensions.activator.left -= window.pageXOffset + offsetRect.left\r\n        } else {\r\n          dimensions.offsetParentLeft = offsetRect.left\r\n        }\r\n      }\r\n\r\n      dimensions.content = measure(contentElement, attach)\r\n    }\r\n  }, contentElement);\r\n\r\n  return dimensions;\r\n}\r\n\r\nfunction measure(el: HTMLElement, attach) {\r\n  if (!el) return null\r\n\r\n  const rect = getRoundedBoundedClientRect(el)\r\n\r\n  // Account for activator margin\r\n  if (attach !== null) {\r\n    const style = window.getComputedStyle(el)\r\n\r\n    rect.left = parseInt(style.marginLeft!)\r\n    rect.top = parseInt(style.marginTop!)\r\n  }\r\n\r\n  return rect\r\n}\r\n\r\nfunction getRoundedBoundedClientRect(el: Element) {\r\n  if (!el || !el.nodeType) {\r\n    return null\r\n  }\r\n\r\n  const rect = el.getBoundingClientRect()\r\n  return {\r\n    top: Math.round(rect.top),\r\n    left: Math.round(rect.left),\r\n    bottom: Math.round(rect.bottom),\r\n    right: Math.round(rect.right),\r\n    width: Math.round(rect.width),\r\n    height: Math.round(rect.height),\r\n  }\r\n}\r\n\r\nfunction sneakPeek(cb: () => void, el) {\r\n  if (!el || !el.style || el.style.display !== 'none') {\r\n    cb()\r\n    return\r\n  }\r\n\r\n  el.style.display = 'inline-block'\r\n  cb()\r\n  el.style.display = 'none'\r\n}\r\n\r\nexport function invokeMultipleMethod(windowProps, documentProps, hasActivator, activatorSelector, attach, contentElement, attached, attachSelector, element) {\r\n  var multipleResult = {\r\n    windowAndDocument: null,\r\n    dimensions: null,\r\n    zIndex: 0\r\n  };\r\n\r\n  multipleResult.windowAndDocument = getWindowAndDocumentProps(windowProps, documentProps);\r\n  multipleResult.dimensions = getMenuableDimensions(hasActivator, activatorSelector, attach, contentElement, attached, attachSelector);\r\n  multipleResult.zIndex = getMenuOrDialogMaxZIndex([contentElement], element);\r\n\r\n  return multipleResult;\r\n}\r\n\r\nexport function registerOTPInputOnInputEvent(elementList, callback) {\r\n  for (let i = 0; i < elementList.length; i++) {\r\n    elementList[i].addEventListener('input', (e: Event) => otpInputOnInputEvent(e, i, elementList, callback));\r\n    elementList[i].addEventListener('focus', (e: Event) => otpInputFocusEvent(e, i, elementList));\r\n    elementList[i].addEventListener('keyup', (e: KeyboardEvent) => otpInputKeyupEvent(e, i, elementList, callback));\r\n  }\r\n}\r\n\r\nexport function otpInputKeyupEvent(e: KeyboardEvent, otpIdx: number, elementList, callback) {\r\n  e.preventDefault();\r\n  const eventKey = e.key;\r\n  if (eventKey === 'ArrowLeft' || eventKey === 'Backspace') {\r\n    if (eventKey === 'Backspace') {\r\n      const obj = {\r\n        type: eventKey,\r\n        index: otpIdx,\r\n        value: ''\r\n      }\r\n      if (callback) {\r\n        callback.invokeMethodAsync('Invoke', JSON.stringify(obj));\r\n      }\r\n    }\r\n    otpInputFocus(otpIdx - 1, elementList);\r\n  }\r\n  else if (eventKey === 'ArrowRight') {\r\n    otpInputFocus(otpIdx + 1, elementList);\r\n  }\r\n}\r\n\r\nexport function otpInputFocus(focusIndex: number, elementList) {\r\n  if (focusIndex < 0) {\r\n    otpInputFocus(0, elementList);\r\n  }\r\n  else if (focusIndex >= elementList.length) {\r\n    otpInputFocus(elementList.length - 1, elementList);\r\n  }\r\n  else {\r\n    if (document.activeElement !== elementList[focusIndex]) {\r\n      const element = getDom(elementList[focusIndex])\r\n      element.focus();\r\n    }\r\n  }\r\n}\r\n\r\nexport function otpInputFocusEvent(e: Event, otpIdx: number, elementList) {\r\n  const element = getDom(elementList[otpIdx]);\r\n  if (element && document.activeElement === element) {\r\n    element.select();\r\n  }\r\n}\r\n\r\nexport function otpInputOnInputEvent(e: Event, otpIdx: number, elementList, callback) {\r\n  const target = e.target as HTMLInputElement;\r\n  const value = target.value;\r\n\r\n  if (value && value !== '') {\r\n    otpInputFocus(otpIdx + 1, elementList);\r\n\r\n    if (callback) {\r\n      const obj = {\r\n        type: 'Input',\r\n        index: otpIdx,\r\n        value: value\r\n      }\r\n      callback.invokeMethodAsync('Invoke', JSON.stringify(obj));\r\n    }\r\n  }\r\n}\r\n\r\nexport function getListIndexWhereAttributeExists(selector: string, attribute:string, value: string) {\r\n  const tiles = document.querySelectorAll(selector);\r\n  if (!tiles) {\r\n    return -1;\r\n  }\r\n\r\n  let index = -1;\r\n  for (let i = 0; i < tiles.length; i++) {\r\n    if (tiles[i].getAttribute(attribute) === value) {\r\n      index = i;\r\n      break;\r\n    }\r\n  }\r\n\r\n  return index;\r\n}\r\n\r\nexport function scrollToTile(contentSelector: string, tilesSelector: string, index: number, keyCode: string) {\r\n  var tiles = document.querySelectorAll(tilesSelector)\r\n  if (!tiles) return;\r\n\r\n  let tile = tiles[index] as HTMLElement;\r\n\r\n  if (!tile) return;\r\n\r\n  const content = document.querySelector(contentSelector);\r\n  if (!content) return;\r\n\r\n  const scrollTop = content.scrollTop;\r\n  const contentHeight = content.clientHeight;\r\n\r\n  if (scrollTop > tile.offsetTop - 8) {\r\n    content.scrollTo({ top: tile.offsetTop - tile.clientHeight, behavior: \"smooth\" })\r\n  } else if (scrollTop + contentHeight < tile.offsetTop + tile.clientHeight + 8) {\r\n    content.scrollTo({ top: tile.offsetTop - contentHeight + tile.clientHeight * 2, behavior: \"smooth\" })\r\n  }\r\n}\r\n","// KeyboardEvent.keyCode aliases\r\nconst keyCodes = Object.freeze({\r\n  enter: 13,\r\n  tab: 9,\r\n  delete: 46,\r\n  esc: 27,\r\n  space: 32,\r\n  up: 38,\r\n  down: 40,\r\n  left: 37,\r\n  right: 39,\r\n  end: 35,\r\n  home: 36,\r\n  del: 46,\r\n  backspace: 8,\r\n  insert: 45,\r\n  pageup: 33,\r\n  pagedown: 34,\r\n  shift: 16,\r\n})\r\nvar wheelListenerCaches: { [key: string]: any } = {}\r\n\r\nexport function addWheelEventListener(overlaySelector, content, dialog) {\r\n  if (!overlaySelector) return\r\n\r\n  const listener = function (e) {\r\n    if (e.type === 'keydown') {\r\n      if (\r\n        ['INPUT', 'TEXTAREA', 'SELECT'].includes((e.target as Element).tagName) || (e.target as HTMLElement).isContentEditable\r\n      ) return\r\n\r\n      const up = [keyCodes.up, keyCodes.pageup]\r\n      const down = [keyCodes.down, keyCodes.pagedown]\r\n\r\n      if (up.includes(e.keyCode)) {\r\n        (e as any).deltaY = -1\r\n      } else if (down.includes(e.keyCode)) {\r\n        (e as any).deltaY = 1\r\n      } else {\r\n        return\r\n      }\r\n    }\r\n\r\n    var overlay = document.querySelector(overlaySelector)\r\n\r\n    if (overlay === e.target ||\r\n      (e.type !== 'keydown' && e.target === document.body) ||\r\n      checkPath(e, getDom(content), getDom(dialog))) {\r\n      e.preventDefault()\r\n    }\r\n  }\r\n\r\n  wheelListenerCaches[`window_${overlaySelector}`] = listener;\r\n\r\n  window.addEventListener(\"wheel\", listener, { passive: false })\r\n}\r\n\r\nexport function removeWheelEventListener(overlaySelector) {\r\n  var listener = wheelListenerCaches[`window_${overlaySelector}`]\r\n  if (listener) {\r\n    window.removeEventListener(\"wheel\", listener, ({ passive: false } as any))\r\n  }\r\n}\r\n\r\nfunction checkPath(e: WheelEvent, content, dialog) {\r\n  const path = composedPath(e)\r\n\r\n  if (e.type === 'keydown' && path[0] === document.body) {\r\n    // getSelection returns null in firefox in some edge cases, can be ignored\r\n    const selected = window.getSelection()!.anchorNode as Element\r\n    if (dialog && hasScrollbar(dialog) && isInside(selected, dialog)) {\r\n      return !shouldScroll(dialog, e)\r\n    }\r\n    return true\r\n  }\r\n\r\n  for (let index = 0; index < path.length; index++) {\r\n    const el = path[index]\r\n\r\n    if (el === document) return true\r\n    if (el === document.documentElement) return true\r\n    if (el === content) return true\r\n\r\n    if (hasScrollbar(el as Element)) return !shouldScroll(el as Element, e)\r\n  }\r\n\r\n  return true\r\n}\r\n\r\nfunction shouldScroll(el: Element, e: WheelEvent): boolean {\r\n  if (el.hasAttribute('data-app')) return false\r\n\r\n  const dir = e.shiftKey || e.deltaX ? 'x' : 'y'\r\n  const delta = dir === 'y' ? e.deltaY : e.deltaX || e.deltaY\r\n\r\n  let alreadyAtStart: boolean\r\n  let alreadyAtEnd: boolean\r\n  if (dir === 'y') {\r\n    alreadyAtStart = el.scrollTop === 0\r\n    alreadyAtEnd = el.scrollTop + el.clientHeight === el.scrollHeight\r\n  } else {\r\n    alreadyAtStart = el.scrollLeft === 0\r\n    alreadyAtEnd = el.scrollLeft + el.clientWidth === el.scrollWidth\r\n  }\r\n\r\n  const scrollingUp = delta < 0\r\n  const scrollingDown = delta > 0\r\n\r\n  if (!alreadyAtStart && scrollingUp) return true\r\n  if (!alreadyAtEnd && scrollingDown) return true\r\n  if ((alreadyAtStart || alreadyAtEnd)) {\r\n    return shouldScroll(el.parentNode as Element, e)\r\n  }\r\n\r\n  return false\r\n}\r\n\r\nfunction isInside(el: Element, parent: Element): boolean {\r\n  if (el === parent) {\r\n    return true\r\n  } else if (el === null || el === document.body) {\r\n    return false\r\n  } else {\r\n    return isInside(el.parentNode as Element, parent)\r\n  }\r\n}\r\n\r\n/**  Polyfill for Event.prototype.composedPath */\r\nfunction composedPath(e: Event): EventTarget[] {\r\n  if (e.composedPath) return e.composedPath()\r\n\r\n  const path = []\r\n  let el = e.target as Element\r\n\r\n  while (el) {\r\n    path.push(el)\r\n\r\n    if (el.tagName === 'HTML') {\r\n      path.push(document)\r\n      path.push(window)\r\n\r\n      return path\r\n    }\r\n\r\n    el = el.parentElement!\r\n  }\r\n  return path\r\n}\r\n\r\nfunction hasScrollbar(el?: Element) {\r\n  if (!el || el.nodeType !== Node.ELEMENT_NODE) return false\r\n\r\n  const style = window.getComputedStyle(el)\r\n  return ((['auto', 'scroll'].includes(style.overflowY!) || el.tagName === 'SELECT') && el.scrollHeight > el.clientHeight) ||\r\n    ((['auto', 'scroll'].includes(style.overflowX!)) && el.scrollWidth > el.clientWidth)\r\n}\r\n\r\nfunction getDom(element) {\r\n  if (!element) {\r\n    element = document.body;\r\n  } else if (typeof element === 'string') {\r\n    if (element === 'document') {\r\n      return document.documentElement;\r\n    } else if (element.indexOf('.') > 0) {\r\n      let array = element.split('.');\r\n      let el = document.querySelector(array[0]);\r\n      if (!el) {\r\n        return null;\r\n      }\r\n\r\n      element = el[array[1]];\r\n    } else {\r\n      element = document.querySelector(element);\r\n    }\r\n  }\r\n  return element;\r\n}\r\n","﻿//extract from https://github.com/ichord/Caret.js\r\n\r\nclass InputCaret {\r\n    domInputor: any;\r\n\r\n    constructor(inputor) {\r\n        this.domInputor = inputor;\r\n    }\r\n\r\n    getPos = function () {\r\n        return this.domInputor.selectionStart;\r\n    };\r\n\r\n    getPosition = function (pos) {\r\n        var domInputor, end_range, format, html, mirror, start_range;\r\n        domInputor = this.domInputor;\r\n\r\n        format = function (value) {\r\n            value = value.replace(/<|>|`|\"|&/g, '?').replace(/\\r\\n|\\r|\\n/g, \"<br/>\");\r\n            if (/firefox/i.test(navigator.userAgent)) {\r\n                value = value.replace(/\\s/g, '&nbsp;');\r\n            }\r\n            return value;\r\n        };\r\n        if (!pos) {\r\n            pos = this.getPos();\r\n        }\r\n        let inputorValue = domInputor.value;\r\n        start_range = inputorValue.slice(0, pos);\r\n        end_range = inputorValue.slice(pos);\r\n        html = \"<span style='position: relative; display: inline;'>\" + format(start_range) + \"</span>\";\r\n        html += \"<span id='caret' style='position: relative; display: inline;'>|</span>\";\r\n        html += \"<span style='position: relative; display: inline;'>\" + format(end_range) + \"</span>\";\r\n        mirror = new Mirror(domInputor);\r\n        return mirror.create(html).rect();\r\n    };\r\n\r\n    getOffset = function (pos = null) {\r\n        var offset, position, domInputor;\r\n        domInputor = this.domInputor;\r\n\r\n        var rect = domInputor.getBoundingClientRect();\r\n\r\n        offset = {\r\n            left: rect.left,\r\n            top: rect.top\r\n        };\r\n     \r\n        position = this.getPosition(pos);\r\n        return offset = {\r\n            left: offset.left + position.left - domInputor.scrollLeft, \r\n            top: offset.top + position.top - domInputor.scrollTop, \r\n            height: position.height\r\n        };\r\n    };\r\n\r\n}\r\n\r\nclass Mirror {\r\n    domInputor: any;\r\n    css_attr: any;\r\n    constructor(inputor) {\r\n        this.domInputor = inputor;\r\n        this.css_attr = [];\r\n    }\r\n\r\n    create = function (html) {\r\n        this.$mirror = document.createElement(\"div\");\r\n\r\n        (<any>window).AntDesign.interop.css(this.$mirror, this.mirrorCss());\r\n\r\n        this.$mirror.innerHTML = html;\r\n        this.domInputor.parentElement.append(this.$mirror);\r\n\r\n        return this;\r\n    };\r\n\r\n    mirrorCss = function () {\r\n        var css, _this = this;\r\n        css = {\r\n            position: 'absolute',\r\n            left: -9999,\r\n            top: 0,\r\n            zIndex: -20000\r\n        };\r\n\r\n        this.css_attr.push('width');\r\n\r\n        this.css_attr.forEach((p) => {\r\n            return css[p] = _this.domInputor.style[p]//_this.$inputor.css(p);\r\n        })\r\n        \r\n        return css;\r\n    };\r\n\r\n    rect = function () {\r\n        var flag, pos, rect;\r\n        flag = this.$mirror.querySelector(\"#caret\");\r\n        var oRect = flag.getBoundingClientRect();\r\n\r\n        pos = {\r\n            left: flag.offsetLeft,\r\n            top: flag.offsetTop\r\n        }; //$flag.position();\r\n\r\n        rect = {\r\n            left: pos.left,\r\n            top: pos.top,\r\n            height: oRect.height\r\n        };\r\n\r\n        this.$mirror.parentElement.removeChild(this.$mirror)\r\n        return rect;\r\n    };\r\n\r\n}\r\n\r\nfunction getOffset(elem) {\r\n    return (new InputCaret(elem)).getOffset();\r\n}\r\n\r\nexport default getOffset;","﻿\r\nconst throttle = (fn, threshold = 160) => {\r\n    let timeout;\r\n    var start = +new Date;\r\n    return function (...args) {\r\n        let context = this, curTime = +new Date() - 0;\r\n        //总是干掉事件回调\r\n        window.clearTimeout(timeout);\r\n        if (curTime - start >= threshold) {\r\n            //只执行一部分方法，这些方法是在某个时间段内执行一次\r\n            fn.apply(context, args);\r\n            start = curTime;\r\n        }\r\n        else {\r\n            //让方法在脱离事件后也能执行一次\r\n            timeout = window.setTimeout(() => {\r\n                //@ts-ignore\r\n                fn.apply(this, args);\r\n            }, threshold);\r\n        }\r\n    };\r\n}\r\n\r\nconst eventMap = new Map<HTMLElement, Dragger>();\r\n\r\nconst defaultOptions = {\r\n    inViewport: true\r\n}\r\n\r\nclass Dragger {\r\n\r\n    private _triggler: HTMLElement = null;\r\n    private _container: HTMLElement = null;\r\n    private _options: any = null;\r\n    private _state: any = null;\r\n    private _isFirst: boolean = true;\r\n    private _style: string = null;\r\n\r\n    constructor(triggler: HTMLElement, container: HTMLElement, dragInViewport: boolean) {\r\n        this._triggler = triggler;\r\n        this._container = container;\r\n        this._options = Object.assign({}, defaultOptions, {\r\n            inViewport: dragInViewport\r\n        });\r\n        this._state = {\r\n            isInDrag: false,\r\n            mX: 0, // mouse x\r\n            mY: 0, // mouse y\r\n            domStartX: 0, // on mousedown, the mouse x\r\n            domStartY: 0, // on mousedown, the mouse y            \r\n        }\r\n    }\r\n\r\n    getContainerPos() {\r\n        const rect = this._container.getBoundingClientRect();\r\n        return {\r\n            left: rect.left,\r\n            top: rect.top\r\n        }\r\n    }\r\n\r\n    onMousedown = (e) => {\r\n        const state = this._state;\r\n        state.isInDrag = true;\r\n        state.mX = e.clientX;\r\n        state.mY = e.clientY;\r\n        this._container.style.position = \"absolute\";\r\n        const { left, top } = this.getContainerPos();\r\n\r\n        if (this._isFirst) {\r\n\r\n            state.domMaxY = document.documentElement.clientHeight\r\n                - this._container.offsetHeight - 1;\r\n            state.domMaxX = document.documentElement.clientWidth\r\n                - this._container.offsetWidth - 1;\r\n\r\n            this._container.style.left = left + 'px';\r\n            this._container.style.top = top + 'px';\r\n\r\n            if (!this._style) {\r\n                this._style = this._container.getAttribute(\"style\");\r\n            }\r\n\r\n            this._isFirst = false;\r\n        }\r\n\r\n        state.domStartX = left;\r\n        state.domStartY = top;\r\n    }\r\n\r\n    onMouseup = (e) => {\r\n        const state = this._state;\r\n\r\n        state.isInDrag = false;\r\n\r\n        const { left, top } = this.getContainerPos();\r\n        state.domStartX = left;\r\n        state.domStartY = top;\r\n    }\r\n\r\n    onMousemove = throttle((e) => {\r\n        const state = this._state;\r\n        if (state.isInDrag) {\r\n            var nowX = e.clientX,\r\n                nowY = e.clientY,\r\n                disX = nowX - state.mX,\r\n                disY = nowY - state.mY;\r\n\r\n            var newDomX = state.domStartX + disX;\r\n            var newDomY = state.domStartY + disY;\r\n            if (this._options.inViewport) {\r\n                if (newDomX < 0) {\r\n                    newDomX = 0;\r\n                }\r\n                else if (newDomX > state.domMaxX) {\r\n                    newDomX = state.domMaxX;\r\n                }\r\n                if (newDomY < 0) {\r\n                    newDomY = 0;\r\n                }\r\n                else if (newDomY > state.domMaxY) {\r\n                    newDomY = state.domMaxY;\r\n                }\r\n            }\r\n            this._container.style.position = \"absolute\";\r\n            this._container.style.margin = \"0\";\r\n            this._container.style.paddingBottom = \"0\";\r\n            this._container.style.left = newDomX + \"px\";\r\n            this._container.style.top = newDomY + \"px\";\r\n        }\r\n    }, 10).bind(this);\r\n\r\n    onResize = throttle((e) => {\r\n        const state = this._state;\r\n\r\n        state.domMaxY = document.documentElement.clientHeight\r\n            - this._container.offsetHeight - 1;\r\n        state.domMaxX = document.documentElement.clientWidth\r\n            - this._container.offsetWidth - 1;\r\n        state.domStartY = parseInt(this._container.style.top);\r\n        state.domStartX = parseInt(this._container.style.left);\r\n        if (state.domStartY > state.domMaxY) {\r\n            if (state.domMaxY > 0) {\r\n                this._container.style.top = state.domMaxY + \"px\";\r\n            }\r\n        }\r\n        if (state.domStartX > state.domMaxX) {\r\n            this._container.style.left = state.domMaxX + \"px\";\r\n        }\r\n    }, 10).bind(this);\r\n\r\n    bindDrag() {\r\n        const triggler = this._triggler;\r\n        const options = this._options;\r\n\r\n        triggler.addEventListener(\"mousedown\", this.onMousedown, false);\r\n        window.addEventListener(\"mouseup\", this.onMouseup, false);\r\n        document.addEventListener(\"mousemove\", this.onMousemove);\r\n        if (options.inViewport) {\r\n            window.addEventListener(\"resize\", this.onResize, false);\r\n        }\r\n    }\r\n\r\n    unbindDrag() {\r\n        const triggler = this._triggler;\r\n\r\n        triggler.removeEventListener(\"mousedown\", this.onMousedown, false);\r\n        window.removeEventListener(\"mouseup\", this.onMouseup, false);\r\n        document.removeEventListener(\"mousemove\", this.onMousemove);\r\n        if (this._options.inViewport) {\r\n            window.removeEventListener(\"resize\", this.onResize, false);\r\n        }\r\n    }\r\n\r\n    resetContainerStyle() {\r\n        if (this._style !== null) {\r\n            this._isFirst = true;\r\n            this._container.setAttribute(\"style\", this._style);\r\n        }\r\n    }\r\n}\r\n\r\nfunction enableDraggable(triggler: HTMLElement, container: HTMLElement, dragInViewport: boolean = true) {\r\n    let dragger = eventMap.get(triggler);\r\n    if (!dragger) {\r\n        dragger = new Dragger(triggler, container, dragInViewport);\r\n        eventMap.set(triggler, dragger);\r\n    } \r\n    dragger.bindDrag();\r\n}\r\n\r\nfunction disableDraggable(triggler: HTMLElement) {\r\n    const dragger = eventMap.get(triggler);\r\n    if (dragger) {\r\n        dragger.unbindDrag();\r\n    }\r\n}\r\n\r\nfunction resetModalPosition(triggler: HTMLElement) {\r\n    const dragger = eventMap.get(triggler);\r\n    if (dragger) {\r\n        dragger.resetContainerStyle();\r\n    }\r\n}\r\n\r\nexport { enableDraggable, disableDraggable, resetModalPosition };","export function getBlazorId(el) {\r\n  let _bl_ = el.getAttributeNames().find(a => a.startsWith('_bl_'))\r\n  if (_bl_) {\r\n    _bl_ = _bl_.substring(4);\r\n  }\r\n\r\n  return _bl_;\r\n}\r\n\r\nexport function getElementSelector(el) {\r\n  if (!(el instanceof Element))\r\n    return;\r\n  var path = [];\r\n  while (el.nodeType === Node.ELEMENT_NODE) {\r\n    var selector = el.nodeName.toLowerCase();\r\n    if (el.id) {\r\n      selector += '#' + el.id;\r\n      path.unshift(selector);\r\n      break;\r\n    } else {\r\n      var sib = el, nth = 1;\r\n      while (sib = sib.previousElementSibling) {\r\n        if (sib.nodeName.toLowerCase() == selector)\r\n          nth++;\r\n      }\r\n      if (nth != 1)\r\n        selector += \":nth-of-type(\" + nth + \")\";\r\n    }\r\n    path.unshift(selector);\r\n    el = el.parentNode;\r\n  }\r\n  return path.join(\" > \");\r\n}\r\n"]}